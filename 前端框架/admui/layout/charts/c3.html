<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<title></title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui">

    <link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.css">
	<link rel="stylesheet" href="/vendor/theme/css/site.css">

	<link rel="stylesheet" href="/vendor/fonts/awesome/css/font-awesome.css">
	<link rel="stylesheet" href="/vendor/fonts/web-icons/web-icons.css">

	<script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.js"></script>

    <link rel="stylesheet" href="/vendor/charts/c3/c3.css" />
    <script src="/vendor/charts/d3/d3.js"></script>
    <script src="/vendor/charts/c3/c3.min.js"></script>

    <script src="/vendor/moment/moment.js"></script>
    <script src="/vendor/mock.js"></script>
</head>
<body class="site-contabs-open site-menubar-unfold ">

<div class="page animation-fade">
    <div class="page-header">
        <h1 class="page-title">C3 图表</h1>
        <div class="page-header-actions">
            <a class="btn btn-default btn-outline btn-round" href="https://github.com/masayuki0812/c3" target="_blank">
                <i class="fa fa-home" aria-hidden="true"></i>
                官网
            </a>
        </div>
    </div>
    <div class="page-content container-fluid">

        <div class="panel">
            <div class="panel-body">
                <div class="row row-lg">
                    <div class="col-lg-6">
                        <style>
                            #exampleC3SimpleLine .c3-line-data1 {
                                stroke-width: 5px;
                            }
                        </style>
                        <div class="example-wrap">
                            <h4 class="example-title">简单曲线图</h4>
                            <p>具有连续数据的折线图表</p>
                            <div class="example">
                                <div id="exampleC3SimpleLine"></div>
                                <div class="btn-group pull-right" style="margin-top: 10px;">
                                    <div class="btn btn-primary" id="demo1_del">删除</div>
                                    <div class="btn btn-primary" id="demo1_add">添加</div>
                                    <div class="btn btn-primary" id="demo1_hide">隐藏</div>
                                    <div class="btn btn-primary" id="demo1_show">显示</div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">曲线区域图</h4>
                            <p>针对不同数据设置不同样式</p>
                            <div class="example">
                                <div id="exampleC3LineRegions"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap m-md-0">
                            <h4 class="example-title">时间序列图</h4>
                            <p>具有时间序列数据的简单折线图表示例</p>
                            <div class="example example-responsive pb-15">
                                <div class="w-xs-400" id="exampleC3TimeSeries"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">步骤图</h4>
                            <p></p>
                            <div class="example">
                                <div id="exampleC3Spline"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div class="panel">
            <div class="panel-body">
                <div class="row row-lg">
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">散点图</h4>
                            <p>显示为散点图</p>
                            <div class="example example-responsive pb-15">
                                <div class="w-xs-400" id="exampleC3Scatter"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">柱状图</h4>
                            <p>显示为柱状图</p>
                            <div class="example">
                                <div id="exampleC3Bar"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap m-md-0">
                            <h4 class="example-title">堆叠柱状图</h4>
                            <p>显示为堆叠柱状图</p>
                            <div class="example">
                                <div id="exampleC3StackedBar"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">组合图</h4>
                            <p>显示多种图表组合的示例</p>
                            <div class="example">
                                <div id="exampleC3Combination"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div class="panel">
            <div class="panel-body">
                <div class="row row-lg">
                    <div class="col-lg-6">

                        <div class="example-wrap m-md-0">
                            <h4 class="example-title">饼状图</h4>
                            <p>显示为饼状图</p>
                            <div class="example">
                                <div id="exampleC3Pie"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">环形图</h4>
                            <p>显示为环形图</p>
                            <div class="example">
                                <div id="exampleC3Donut"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">进度图</h4>
                            <p>显示为半环形</p>
                            <div class="example">
                                <div id="exampleC3Huan"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div class="panel">
            <div class="panel-heading">
                <h3 class="panel-title">交互——区域缩放</h3>
            </div>
            <div class="panel-body">
                <div class="row row-lg">
                    <div class="col-lg-6">

                        <div class="example-wrap m-md-0">
                            <h4 class="example-title">示例1</h4>
                            <p>数据缩放和范围选择</p>
                            <div class="example">
                                <div id="exampleC3Subchart"></div>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-6">

                        <div class="example-wrap">
                            <h4 class="example-title">示例2</h4>
                            <p>通过鼠标滚轮或者拖动图表区域放大显示</p>
                            <div class="example">
                                <div id="exampleC3Zoom"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function arrRandom(arr){
        return arr.sort(function(){
            return Math.random() > .5 ? 1 : -1;
        })
    }
    /* 简单曲线图 */
    {
        var columns = [
                ['data1', 30, 200, 100, 400, 150, 250],
                ['data2', 50, 20, 10, 40, 15, 25],
                ['data3'].concat(arrRandom([30, 200, 100, 400, 150, 250]))
            ];
        var chart1 = c3.generate({
            bindto:'#exampleC3SimpleLine',
            data: {
                columns: columns,
                axes: {'data2': 'y2'},//附加轴
                types: {//改变显示类型
                    'data1': 'spline',
                    'data2': 'bar'
                },
                regions: {//断开处虚线显示
                    'data1': [{'start':1, 'end':2, 'style':'dashed'},{'start':3}],
                    'data3': [{'end':3}]
                },
                    names: {
                    data1: '数据1',
                    data2: '数据2'
                },
                order: 'desc' // 数据显示顺序   'asc'   null
            },
            axis: {
                x: {
                    type: 'category',
                    categories: ['cat1', 'cat2', 'cat3', 'cat4', 'cat5', 'cat6', 'cat7', 'cat8', 'cat9']
                },
                y: {
                    label: {
                        text: 'Y Label',
                        position: 'outer-middle'
                    },
                    tick: {
                        format: d3.format("$,")
                    }
                },
                y2: {//附加轴
                    show: true,
                    label: { //轴标签
                        text: 'Y2 Label',
                        position: 'outer-middle'//位置
                    }
                }
            },
            grid: {//网格线
                x: {
                    show: true
                },
                y: {
                    show: true
                }
            },
            color: {//设置颜色
                pattern: ['#9463F7', '#11C26D', '#FF666B', '#D9E9BE','FF8589'], // the three color levels for the percentage values.
            },
            transition: {//过渡动画
                duration: 100
            },
            padding: {
                top: 20,
                right: 60,
                bottom: 20,
                left: 60,
            },
            point: {//是否显示点
                show: true
            }
            
        });
        //删除数据线
        $('#demo1_del').on('click',function(){
            var num = columns.length;
            columns.pop();
            chart1.unload({
                ids: 'data' + num
            });
        })
        //新增
        $('#demo1_add').on('click',function(){
            var str = "data" + (columns.length+1);
            columns.push([str].concat(arrRandom([230, 190, 300, 500, 300, 400])));
            chart1.load({
                columns: columns
            });
        })
        //隐藏
        $('#demo1_hide').on('click',function(){
            chart1.hide(['data1', 'data2']);
        })
        //显示
        $('#demo1_show').on('click',function(){
            chart1.show(['data1', 'data2']);
        })
        //异步获取数据
        /* c3.generate({
            data: {
                url: '/data/c3_test.json',
                mimeType: 'json'
            }
        });
        ==>
            {
                "data1": [220, 240, 270, 250, 280],
                "data2": [180, 150, 300, 70, 120],
                "data3": [200, 310, 150, 100, 180]
            }
        */

    }
    /* 曲线区域 */
    {
        var chart = c3.generate({
            bindto:'#exampleC3LineRegions',
            data: {
                rows:[//行导向数据
                    ['data1', 'data2', 'data3'],
                    [90, 120, 300],
                    [40, 160, 240],
                    [50, 200, 290],
                    [120, 160, 230],
                    [80, 130, 300],
                    [90, 220, 320],
                ],
                types: {
                    data1: 'area',//域
                    data2: 'area-spline'//曲线域
                }
            },
            tooltip: {//鼠标hover提示
                show: true,//显示隐藏
                grouped: false,//是否分组
                format: {//设置提示格式
                    title: function (d) { return 'Data ' + d; },
                    value: function (value, ratio, id) {
                        var format = id === 'data1' ? d3.format(',') : d3.format('$');
                        return format(value);
                    }
                }
            },
            grid: {//自定义网格线
                x: {
                    lines: [
                        {value: 1, text: 'Label 1'},
                        {value: 3, text: 'Label 3', position: 'middle'},
                        {value: 4.5, text: 'Lable 4.5', position: 'start'}
                    ]
                },
                y: {
                    lines: [
                        {value: 50, text: 'Label 50 for y'},
                        {value: 1300, text: 'Label 1300 for y2', axis: 'y2', position: 'start'},
                        {value: 350, text: 'Label 350 for y', position: 'middle'}
                    ]
                }
            }
        });
    }
    /* 时间序列图 */
    var chart2 = c3.generate({
        bindto:'#exampleC3TimeSeries',
        data: {
            x: 'x',
            columns: [
                ['x', '2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'],
                ['data1', 30, 200, 100, 400, 150, 250],
                ['data2', 130, 340, 200, 500, 250, 350]
            ]
        },
        axis: {
            x: {
                type: 'timeseries',
                tick: {
                    format: '%Y-%m-%d'
                }
            }
        }
    });
    /* 步骤图 */
    var chart5 = c3.generate({
        bindto:'#exampleC3Spline',
        data: {
            x : 'x',
            columns: [
                ['x', 'site1', 'site2', 'site3', 'site4', 'site5', 'site6'],
                ['data1', 300, 350, 300, 0, 0, 100],
                ['data2', 130, 100, 140, 200, 150, 50]
            ],
            types: {
                data1: 'step',
                data2: 'area-step'
            }
        },
        axis: {
            x: {
                type: 'category' // this needed to load string x value
            }
        }
    });
    /* 散点图 */
    var chart = c3.generate({
        bindto:'#exampleC3Scatter',
        data: {
            xs: {
                setosa: 'setosa_x',
                versicolor: 'versicolor_x',
                virginica: 'virginica_x'
            },
            columns: [
                ["setosa_x", 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3.0, 3.0, 4.0, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3.0, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.6, 3.0, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3.0, 3.8, 3.2, 3.7, 3.3],
                ["versicolor_x", 3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2.0, 3.0, 2.2, 2.9, 2.9, 3.1, 3.0, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3.0, 2.8, 3.0, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3.0, 3.4, 3.1, 2.3, 3.0, 2.5, 2.6, 3.0, 2.6, 2.3, 2.7, 3.0, 2.9, 2.9, 2.5, 2.8],
                ["setosa", 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2],
                ["versicolor", 1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3],
            ],
            type: 'scatter'
        },
        axis: {
            x: {
                label: 'Sepal.Width',
                tick: {
                    fit: false
                }
            },
            y: {
                label: 'Petal.Width'
            }
        }
    });

    /* 柱状图 */
    var chart3 = c3.generate({
        bindto:'#exampleC3Bar',
        data: {
            columns: [
                ['data1', 30, 200, 100, 400, 150, 250],
                ['data2', 130, 100, 140, 200, 150, 50],
                ['data3', 30, 200, 100, 400, 150, 250],
            ],
            groups: [//合并两个数据到一个组里
                ['data1', 'data2']
            ],
            type: 'bar',
            //labels: true,//数据标签
            labels: {//数据标签
//          format: function (v, id, i, j) { return "Default Format"; },
            format: {
                data1: d3.format('$'),
//              data1: function (v, id, i, j) { return "Format for data1"; },
            }
        }
        },
        bar: {
            width: {
                ratio: 0.5
            }
            //width: 100 // this makes bar width 100px
        }
    });
    /* 堆叠柱状图 */
    var chart6 = c3.generate({
        bindto:'#exampleC3StackedBar',
        data: {
            columns: [
                ['data1', -30, 200, 200, 400, -150, 250],
                ['data2', 130, 100, -100, 200, -150, 50],
                ['data3', -230, 200, 200, -300, 250, 250]
            ],
            type: 'bar',
            groups: [
                ['data1', 'data2']
            ]
        },
        grid: {
            y: {
                lines: [{value:0}]
            }
        }
    });
    setTimeout(function () {
        chart6.groups([['data1', 'data2', 'data3']])
    }, 1000);
    setTimeout(function () {
        chart6.load({
            columns: [['data4', 100, -50, 150, 200, -300, -100]]
        });
    }, 1500);
    setTimeout(function () {
        chart6.groups([['data1', 'data2', 'data3', 'data4']])
    }, 2000);

    /* 组合图 */
    //exampleC3Combination
    var chart7 = c3.generate({
        bindto:'#exampleC3Combination',
        data: {
            columns: [
                ['data1', 30, 20, 50, 40, 60, 50],
                ['data2', 200, 130, 90, 240, 130, 220],
                ['data3', 300, 200, 160, 400, 250, 250],
                ['data4', 200, 130, 90, 240, 130, 220],
                ['data5', 130, 120, 150, 140, 160, 150],
                ['data6', 90, 70, 20, 50, 60, 120],
            ],
            type: 'bar',
            types: {
                data3: 'spline',
                data4: 'line',
                data6: 'area',
            },
            groups: [
                ['data1','data2']
            ]
        }
    });

    /* 饼状图 */
    var chart3 = c3.generate({
        bindto:'#exampleC3Pie',
        data: {
            columns: [
                ['data1', 30],
                ['data2', 120],
                ["setosa", 60],
                ["versicolor", 40],
                ["virginica", 5],
            ],
            type : 'pie',
            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },//说明位置
        legend: {
            position: 'right'
        },
        pie: {//自定义标签提示
            label: {
                format: function (value, ratio, id) {
                    return d3.format('$')(value);
                }
            }
        }
    });
    /* 环形图 */
    var chart8 = c3.generate({
        bindto:'#exampleC3Donut',
        data: {
            columns: [
                ['data1', 30],
                ['data2', 120],
            ],
            type : 'donut',
            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        donut: {
            title: "Iris Petal Width"
        }
    });
    setTimeout(function () {
        chart8.load({
            columns: [
                ["setosa", 10],
                ["versicolor", 30],
                ["virginica", 60],
            ]
        });
    }, 1500);
    setTimeout(function () {
        chart8.unload({
            ids: ['data1','data2']
        });
    }, 2500);
    /* 进度图 */
    
    var chart = c3.generate({
        bindto:'#exampleC3Huan',
        data: {
            columns: [
                ['data', 91.4]
            ],
            type: 'gauge',
            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        gauge: {
    //        label: {
    //            format: function(value, ratio) {
    //                return value;
    //            },
    //            show: false // to turn off the min/max labels.
    //        },
    //    min: 0, // 0 is default, //can handle negative min e.g. vacuum / voltage / current flow / rate of change
    //    max: 100, // 100 is default
    //    units: ' %',
    //    width: 39 // for adjusting arc thickness
        },
        color: {
            pattern: ['#FF0000', '#F97600', '#F6C600', '#60B044'], // the three color levels for the percentage values.
            threshold: {
    //            unit: 'value', // percentage is default
    //            max: 200, // 100 is default
                values: [30, 60, 90, 100]
            }
        },
        size: {
            height: 180
        }
    });
    setTimeout(function () {
        chart.load({
            columns: [['data', 10]]
        });
    }, 1000);
    setTimeout(function () {
        chart.load({
            columns: [['data', 70]]
        });
    }, 1500);
    setTimeout(function () {
        chart.load({
            columns: [['data', 50]]
        });
    }, 2000);

    /* 交互——区域缩放 */
    {
        var chart9 = c3.generate({
            bindto:'#exampleC3Subchart',
            data: {
                rows:[//行导向数据
                    ['data1', 'data2', 'data3'],
                    [90, 120, 300],
                    [40, 160, 240],
                    [50, 200, 290],
                    [120, 160, 230],
                    [80, 130, 300],
                    [90, 220, 320],
                ],
                type: 'spline'
            },
            subchart: {
                show: true
            }
        });
    }
    {
        var chart10 = c3.generate({
            bindto:'#exampleC3Zoom',
            data: {
                columns: [
                    ['sample', 30, 200, 100, 400, 150, 250, 150, 200, 170, 240, 350, 150, 100, 400, 150, 250, 150, 200, 170, 240, 100, 150, 250, 150, 200, 170, 240, 30, 200, 100, 400, 150, 250, 150, 200, 170, 240, 350, 150, 100, 400, 350, 220, 250, 300, 270, 140, 150, 90, 150, 50, 120, 70, 40]
                ],
                type: 'line'
            },
            zoom: {
                enabled: true
            }
        });
    }

</script>

</body>
</html>