<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="author" content="GaryWang">
	<meta name='renderer' content='webkit'>
	<meta http-equiv='X-UA-Compatible' content='IE=Edge,chrome=1' >
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">
	<meta name="format-detection" content="email=no">
	<title>绑定车辆</title>
	<link href="css/basic.css" rel="stylesheet" type="text/css" />
	<script>
        function autoScale(){
            var winW = document.documentElement.clientWidth;
            return Math.min (1,Math.min(winW / 1080));
        }
        document.documentElement.style.cssText = 'font-size:'+(100 * autoScale())+'px';
        //1rem = 100px
	</script>
	<style>
		#mixed-keyboard-box {
			position: fixed;
			left: 0;
			bottom: 0;
			z-index: 10;
			width: 10.8rem;
			height: 8rem;
			/* display: none; */
		}
		div#input-widget {
			height:16%!important;
		}
		div#mode-switcher{
			background: none!important;			
		}
		div#mode-switcher::before {
			font-size: 0.3rem;
			white-space: pre;
			margin-top: 0.35rem;
			display: block;
			content:'新能源';
		}
		div#mode-switcher.modeof-0::before {
			color:#999;
		}
		div#mode-switcher.modeof-5::before {
			color:#3875c6;
		}
    </style>
</head>
<body>
	<div class="wrap">
		<div class="box bind-car f46 c-73 p-b-150">
			<div class="m-b-30">
				信息技术中心-研发二部
			</div>
			<div class="m-b-50">
				王重阳
			</div>
			<ul class="add-plate flex flex-jus-between">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<button class="btn-submit">立即绑定</button>
		</div>
		<div id="mixed-keyboard-box">
			<mixed-keyboard :args="args" :callbacks="callbacks"/>
		</div>
		<div class="logo mid">
			<img src="images/logo.png" alt="尚美数智">
		</div>
	</div>
	<script src="js/jquery-1.11.3.min.js"></script>
	<script src="js/MixedKeyboard.js"></script>  

	<script>
		var number = "";
		let plateLen = 7
		let name = ""
		function native_callback_onokkey(){
			console.log("当前车牌[OK]");
		}
		function native_callback_completed(number, isAutoCompleted){
			console.log("当前车牌[完成]：" + number + ", 自动完成:" + isAutoCompleted);
		}
		function native_callback_changed(number, isCompleted){
			//console.log($('#mode-switcher'));
			//$('#mode-switcher').click()
			console.log("当前车牌[变更]：" + number + ", 已完成:" + isCompleted);
			name = isCompleted
			addPlate(isCompleted)
		}
		function native_callback_show_message(message){
			console.log(message);
			if(message == "车牌类型：新能源车牌"){
				plateLen = 8
				addPlate(name)
			}else{
				plateLen = 7
				addPlate(name)
			}
		}
		function addPlate(str){
			let ele = $('.add-plate')
			let strr = ""
			for(let i = 0;i < plateLen;i++){
				strr += str[i] ? `<li>${str[i]}</li>` : `<li></li>`
			}
			ele.html(strr)
		}

		// $('.add-plate').click(function(){
		// 	$('#mixed-keyboard-box').show()
		// })


	</script>
</body>
</html>
